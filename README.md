# Etudes for ClojureScript

## Notes from the Quickstart Guide

[ClojureScript Quickstart](https://github.com/clojure/clojurescript/wiki/Quick-Start)

REPLs are always constructed in the same way. The first argument to cljs.repl/repl is the REPL evaluation environment (Node.js, Rhino, Nashorn, browser), the subsequent arguments are the same arguments you pass to cljs.build.api/build in addition to several options that are specific to REPLs. Note that we supply a :watch option with a source directory. This conveniently starts a REPL along with an auto building process. The auto building process will write its activity to out/watch.log so you can easily tail -f out/watch.log. We also specify :output-dir so that the REPL can reuse compiled files generated by the build.

We also need to modify our source to load the browser REPL:

(ns hello-world.core
  (:require [clojure.browser.repl :as repl]))

(defonce conn
  (repl/connect "http://localhost:9000/repl"))

(enable-console-print!)

(println "Hello world!")
We create the connection with defonce. This ensures the connection is constructed only one time - we may reload this namespace during development and we don't want multiple connection instances.

Let's try it:

```
rlwrap java -cp cljs.jar:src clojure.main repl.clj
```

Run tail -f out/watch.log in a fresh terminal to view auto build progress.

```
(in-ns 'etudes.core)
(require '[etudes.core :as etudes] :reload)
```
